<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
 xmlns:c="http://java.sun.com/jsp/jstl/core"
> <head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Administrator Home</title>
</head>
<body>
<span style="float:right;"><h:form > <h:commandButton action="#{adminController.logout}" value="Logout" ></h:commandButton></h:form></span>
<h1>Administrator Home</h1>

	<table border="1">
	
	<h> Manager's Pending Request</h> 
	   <ui:repeat var="o" value="#{sessionScope.users}" varStatus="status">
	<tr>
		<th>Request ID</th>
		<th>Username</th>
		<th>First Name</th>
		<th>Last Name</th>
		<th>Email </th>
	</tr>
	<tr>
		<c:choose>
			<c:when test = "#{sessionScope.message=='no'}">
				<td>No Requests Pending</td>
			</c:when>
			<c:otherwise>
			<td>#{o.rid}</td>
		<td>#{o.username}</td>
		<td>#{o.fname}</td>
		<td>#{o.lname}</td>
		<td>#{o.email}</td>
		<td><h:form > <h:commandButton action="#{adminController.approveManager(o.username,o.rid)}" value="Approve" ></h:commandButton></h:form></td>
		<td><h:form ><h:commandButton action="#{adminController.declineManager(o.rid)}" value="Decline" ></h:commandButton></h:form></td>
		</c:otherwise>
		</c:choose>
	</tr>

   </ui:repeat>

</table>
</body>
</html>